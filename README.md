## 文件上传服务

1. 在实际应用中我们经常使用到网盘服务，他们可以高效的上传下载较大文件。那么这些高性能文件传输服务，都需要实现的分片发送、断点续传功能。
2. 在Java文件操作中有RandomAccessFile类，他可以支持文件的定位读取和写入，这样就满足了我们对文件分片的最基础需求。
3. Netty服务端启动后，可以接收客户端发送文件传输请求指令；允许接收文件、控制读取位点、记录传输标记、文件接收完成。
4. 为了保证传输性能我们采用protostuff二进制流进行传输。
5. 读取文件的时候需要注意，我们设定byte[1024]
   为默认读取范围，但当读取到最后的时候可能不足1024个字节，就会出现空字节。这个时候需要去掉空字节，否则我们的文件写入会多额外信息，导致文件不能打开｛zip、war、exe、jar等｝。

### 使用流程

1. 打开NettyServerTest
2. 打开NettyClientTest

### 业务流程

1. 客户端发送文件传输请求REQUEST指令
2. 服务端接收到请求回复文件可以传输INSTRUCT指令信息
3. 客户端接收可发送文件传输指令INSTRUCT，客户端读取文件发送文件数据传输DATA指令
4. 服务端接收文件数据指令DATA，保存文件数据，发送文件传输指令INSTRUCT
5. 重复3，4步骤直至文件传输结束。